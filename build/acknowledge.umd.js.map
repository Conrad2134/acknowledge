{"version":3,"file":"acknowledge.umd.js","sources":["../src/index.js"],"sourcesContent":["/**\n * Propmpts the user to acknowledge a modal.\n * @param {String|DOMElement|jQuery} target The modal to target\n * @param {Object} options Options to pass to acknowledge\n * @returns {Promise} A promise that resolves upon acknowledgement, rejects upon dismissal\n */\nexport default (target, { persist = false, scope = document } = {}) =>\n\tnew Promise((resolve, reject) => {\n\t\tconst $modal = $(scope).find(target);\n\n\t\tif (!$modal.length) {\n\t\t\treturn reject(`Modal not found: ${target}`);\n\t\t}\n\n\t\tif (persist && $modal.data(\"acknowledged\")) {\n\t\t\treturn resolve();\n\t\t} else if (!persist && $modal.data(\"acknowledged\")) {\n\t\t\t$modal.removeData(\"acknowledged\");\n\t\t}\n\n\t\t$modal.one(\"hidden.bs.modal\", () => {\n\t\t\treject(`Acknowledgement dismissed: ${target}`);\n\t\t});\n\n\t\t$modal.one(\"click\", \"[data-acknowledge]\", () => {\n\t\t\tif (persist) {\n\t\t\t\t$modal.data(\"acknowledged\", true);\n\t\t\t}\n\n\t\t\t$modal\n\t\t\t\t.off(\"hidden.bs.modal\")\n\t\t\t\t.one(\"hidden.bs.modal\", () => resolve())\n\t\t\t\t.modal(\"hide\");\n\t\t});\n\n\t\t$modal.modal(\"show\");\n\t});\n"],"names":["target","ref","document","Promise","resolve","reject","const","$modal","$","scope","find","length","persist","data","removeData","one","off","modal"],"mappings":"0LAMgBA,EAAQC,sDAAY,uCAAeC,UAClD,IAAIC,iBAASC,EAASC,GACrBC,IAAMC,EAASC,EAAEC,GAAOC,KAAKV,GAE7B,OAAKO,EAAOI,OAIRC,GAAWL,EAAOM,KAAK,gBACnBT,MACIQ,GAAWL,EAAOM,KAAK,iBAClCN,EAAOO,WAAW,gBAGnBP,EAAOQ,IAAI,6BACVV,gCAAqCL,KAGtCO,EAAOQ,IAAI,QAAS,gCACfH,GACHL,EAAOM,KAAK,gBAAgB,GAG7BN,EACES,IAAI,mBACJD,IAAI,oCAAyBX,MAC7Ba,MAAM,eAGTV,EAAOU,MAAM,SAxBLZ,sBAA2BL"}